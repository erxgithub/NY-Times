var topStories={url:"https://api.nytimes.com/svc/topstories/v2/",apiKey:"975bddbb05904c2785109f1a9346e9d7",getSectionUrl:function(e){var i=topStories.url+e+".json";return i+="?"+$.param({"api-key":topStories.apiKey})},getStories:function(){var e=document.getElementById("sections").value;if(0!=e.length){var i=topStories.getSectionUrl(e);$.ajax({url:i,method:"GET"}).done(function(e){var i,t;for(i=0;i<e.results.length;i++)e.results[i].multimedia.length>0&&(t="story"+(i+1).toString(),$("#clone").clone().attr({id:t}).insertBefore("#clone"),$("#"+t+" img").attr("src",e.results[i].multimedia[1].url),$("#"+t+" a").html(e.results[i].abstract),$("#"+t+" a").attr("href",e.results[i].url))}).fail(function(e){throw e})}else location.reload()}};window.onload=function(){window.jQuery||console.log("jQuery not loaded"),$("#sections").change(function(){topStories.getStories()})};for(var sections=[{value:"",description:"Please select"},{value:"home",description:"Home"},{value:"opinion",description:"Opinion"},{value:"world",description:"World"},{value:"national",description:"National"},{value:"politics",description:"Politics"},{value:"upshot",description:"Upshot"},{value:"nyregion",description:"NY Region"},{value:"business",description:"Busines"},{value:"technology",description:"Technology"},{value:"science",description:"Science"},{value:"health",description:"Health"},{value:"sports",description:"Sports"},{value:"arts",description:"Arts"},{value:"books",description:"Books"},{value:"movies",description:"Movies"},{value:"theater",description:"Theater"},{value:"sundayreview",description:"Sunday Review"},{value:"fashion",description:"Fashion"},{value:"tmagazine",description:"T Magazine"},{value:"food",description:"Food"},{value:"travel",description:"Travel"},{value:"magazine",description:"Magazine"},{value:"realestate",description:"Real Estate"},{value:"automobiles",description:"Automobiles"},{value:"obituaries",description:"Obituaries"},{value:"insider",description:"Insider"}],sel=document.getElementById("sections"),i=0;i<sections.length;i++){var opt=document.createElement("option");opt.innerHTML=sections[i].description,opt.value=sections[i].value,sel.appendChild(opt)}